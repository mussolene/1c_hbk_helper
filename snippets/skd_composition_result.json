[
  {
    "title": "Вывод СКД в таблицу значений",
    "description": "Вывод результата системы компоновки данных в таблицу значений. КомпоновщикМакетаКомпоновкиДанных с ГенераторМакетаКомпоновкиДанныхДляКоллекцииЗначений + ПроцессорВыводаРезультатаКомпоновкиДанныхВКоллекциюЗначений.",
    "code_snippet": "// Отчет — объект отчёта СКД (например, Отчеты.МойОтчет.Создать())\nСхемаКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.СхемаКомпоновкиДанных;\nНастройкиКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.НастройкиКомпоновкиДанных;\n\nКомпоновщик = Новый КомпоновщикМакетаКомпоновкиДанных;\nКомпоновщик.УстановитьСхему(СхемаКомпоновки);\nРезультатКомпоновки = Компоновщик.Выполнить(\n    НастройкиКомпоновки,\n    ,\n    ,\n    Тип(\"ГенераторМакетаКомпоновкиДанныхДляКоллекцииЗначений\")\n);\n\nТаблицаЗначений = Новый ТаблицаЗначений;\nПроцессорВывода = Новый ПроцессорВыводаРезультатаКомпоновкиДанныхВКоллекциюЗначений;\nПроцессорВывода.УстановитьОбъект(ТаблицаЗначений);\nПроцессорВывода.Вывести(РезультатКомпоновки.Универсальный);\n\n// ТаблицаЗначений — результат компоновки, готов к обходу"
  },
  {
    "title": "Вывод СКД в табличный документ",
    "description": "Вывод результата компоновки в табличный документ. КомпоновщикМакетаКомпоновкиДанных → ПроцессорКомпоновкиДанных → ПроцессорВыводаРезультатаКомпоновкиДанныхВТабличныйДокумент.",
    "code_snippet": "СхемаКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.СхемаКомпоновкиДанных;\nНастройкиКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.НастройкиКомпоновкиДанных;\n\nКомпоновщик = Новый КомпоновщикМакетаКомпоновкиДанных;\nКомпоновщик.УстановитьСхему(СхемаКомпоновки);\nМакет = Компоновщик.Выполнить(НастройкиКомпоновки);\n\nПроцессорКомпоновки = Новый ПроцессорКомпоновкиДанных;\nПроцессорКомпоновки.Инициализировать(Макет);\n\nТабличныйДокумент = Новый ТабличныйДокумент;\nПроцессорВывода = Новый ПроцессорВыводаРезультатаКомпоновкиДанныхВТабличныйДокумент;\nПроцессорВывода.УстановитьДокумент(ТабличныйДокумент);\nПроцессорВывода.Вывести(ПроцессорКомпоновки);\n\n// ТабличныйДокумент готов к показу, печати или экспорту"
  },
  {
    "title": "Вывод СКД в коллекцию значений",
    "description": "Получение результата компоновки в виде коллекции значений (КоллекцияЗначений). Используется ГенераторМакетаКомпоновкиДанныхДляКоллекцииЗначений.",
    "code_snippet": "СхемаКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.СхемаКомпоновкиДанных;\nНастройкиКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.НастройкиКомпоновкиДанных;\n\nКомпоновщик = Новый КомпоновщикМакетаКомпоновкиДанных;\nКомпоновщик.УстановитьСхему(СхемаКомпоновки);\nРезультатКомпоновки = Компоновщик.Выполнить(\n    НастройкиКомпоновки,\n    ,\n    ,\n    Тип(\"ГенераторМакетаКомпоновкиДанныхДляКоллекцииЗначений\")\n);\n\nКоллекцияЗначений = РезультатКомпоновки.Универсальный;\n// КоллекцияЗначений — набор наборов данных (КоллекцияЗначений.Количество(), .Получить(индекс) и т.д.)"
  },
  {
    "title": "Обход результата компоновки (наборы данных)",
    "description": "Итерация по наборам данных результата компоновки. РезультатКомпоновкиДанных.Универсальный возвращает коллекцию наборов. Каждый набор — табличная часть с выборкой по строкам.",
    "code_snippet": "РезультатКомпоновки = Компоновщик.Выполнить(НастройкиКомпоновки, , , Тип(\"ГенераторМакетаКомпоновкиДанныхДляКоллекцииЗначений\"));\nКоллекцияНаборов = РезультатКомпоновки.Универсальный;\n\nДля Каждого НаборДанных Из КоллекцияНаборов Цикл\n    Выборка = НаборДанных.Выбрать();\n    Пока Выборка.Следующий() Цикл\n        // Выборка.Получить(<имя_колонки>) — значение ячейки\n    КонецЦикла;\nКонецЦикла;"
  },
  {
    "title": "Схема компоновки из XML-строки",
    "description": "Создание схемы компоновки данных программно из XML-строки. ЧтениеНастроекКомпоновкиДанных.ПрочитатьИзСтроки().",
    "code_snippet": "XMLСхемы = \"<?xml version=\"\"1.0\"\" encoding=\"\"UTF-8\"\"?>\n<DataCompositionSchema>...содержимое схемы...</DataCompositionSchema>\";\n\nЧтениеСхемы = Новый ЧтениеXML;\nЧтениеСхемы.УстановитьСтроку(XMLСхемы);\nЧтениеНастроек = Новый ЧтениеНастроекКомпоновкиДанных;\n\nСхемаКомпоновки = ЧтениеНастроек.ПрочитатьСхему(ЧтениеСхемы);\nЧтениеСхемы.Закрыть();\n\n// Далее — КомпоновщикМакетаКомпоновкиДанных.УстановитьСхему(СхемаКомпоновки)"
  },
  {
    "title": "Программная настройка параметров компоновки",
    "description": "Установка значений параметров компоновки программно. НастройкиКомпоновкиДанных.ПараметрыДанных.НайтиПараметр(), ПараметрКомпоновкиДанных.Значение.",
    "code_snippet": "НастройкиКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.НастройкиКомпоновкиДанных;\n\n// Найти параметр по имени и установить значение\nПараметрПериод = НастройкиКомпоновки.ПараметрыДанных.НайтиПараметр(Новый ПараметрКомпоновкиДанных(\"Период\"));\nЕсли ПараметрПериод <> Неопределено Тогда\n    ПараметрПериод.Значение = ПериодОтчета;\nКонецЕсли;\n\n// Или через ПараметрыВывода (параметры отчета)\nПараметрВывода = НастройкиКомпоновки.ПараметрыВывода.НайтиПараметр(Новый ПараметрКомпоновкиДанных(\"Организация\"));\nЕсли ПараметрВывода <> Неопределено Тогда\n    ПараметрВывода.Значение = Организация;\nКонецЕсли;"
  },
  {
    "title": "Результат компоновки — вывод в JSON",
    "description": "Вывод результата СКД в JSON через сериализацию таблицы значений. Сначала получаем ТЗ, затем ЗаписьJSON.",
    "code_snippet": "// 1. Получить результат в таблицу значений (см. «Вывод СКД в таблицу значений»)\nТаблицаЗначений = Новый ТаблицаЗначений;\nПроцессорВывода.УстановитьОбъект(ТаблицаЗначений);\nПроцессорВывода.Вывести(РезультатКомпоновки.Универсальный);\n\n// 2. Сериализация в JSON\nЗаписьJSON = Новый ЗаписьJSON;\nЗаписьJSON.УстановитьСтроку();\nЗаписатьJSON(ЗаписьJSON, ТаблицаЗначений);\nСтрокаJSON = ЗаписьJSON.Закрыть();"
  },
  {
    "title": "Компоновщик с пользовательскими настройками (без отчета)",
    "description": "Выполнение компоновки с программно созданными настройками. Схема загружается из файла или XML, настройки формируются в коде.",
    "code_snippet": "// Загрузка схемы из файла макета отчёта\nМакетКомпоновки = Отчеты.МойОтчет.ПолучитьМакет(\"МакетКомпоновкиДанных\");\nСхемаКомпоновки = МакетКомпоновки.СхемаКомпоновкиДанных;\n\n// Или: СхемаКомпоновки = Отчет.КомпоновщикНастроекКомпоновкиДанных.СхемаКомпоновкиДанных;\nНастройкиКомпоновки = Новый НастройкиКомпоновкиДанных;\n// Добавить группы, отборы, параметры...\n\nКомпоновщик = Новый КомпоновщикМакетаКомпоновкиДанных;\nКомпоновщик.УстановитьСхему(СхемаКомпоновки);\nРезультатКомпоновки = Компоновщик.Выполнить(НастройкиКомпоновки, , , Тип(\"ГенераторМакетаКомпоновкиДанныхДляКоллекцииЗначений\"));"
  }
]
